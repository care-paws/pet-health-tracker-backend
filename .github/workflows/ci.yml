name: Continuous Integration  
  
on:  
  pull_request:  
    branches:  
      - main  
  push:  
    branches:  
      - main  
  
permissions:  
  contents: read  
  
jobs:  
  test-typescript:  
    name: TypeScript Tests  
    runs-on: ubuntu-latest  
  
    defaults:  
      run:  
        working-directory: ./backend  
  
    steps:  
      - name: Checkout  
        uses: actions/checkout@v5  
  
      - name: Setup Node.js  
        uses: actions/setup-node@v6  
        with:  
          node-version: '20'  
          cache: npm  
  
      - name: Install Dependencies  
        run: npm ci  
  
      - name: Type Check  
        run: npm run build  
  
      - name: Test  
        run: npm run test:unit